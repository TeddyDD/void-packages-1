# Template file for 'nats'
pkgname=nats
version=0.0.35
revision=1
build_style=go
go_import_path=github.com/nats-io/natscli/nats
go_ldflags="-X main.version=v${version}"
short_desc="Command line utility to interact with and manage NATS"
maintainer="Daniel Lewan <vision360.daniel@gmail.com>"
license="Apache-2.0"
homepage="https://nats.io/"
distfiles="https://github.com/nats-io/natscli/archive/v${version}.tar.gz"
checksum=7a5f8b9fc37726bf9e446bc05dc8680852e9dd5c7364f59b53676abb3509b94b

pre_build() {
	for shell in bash zsh
	do
		CGO_ENABLED=0 GOARCH='' go run nats/main.go --completion-script-$shell >completion.$shell
	done
}

post_install() {
	for shell in bash zsh
	do
		vcompletion completion.$shell $shell
	done
}
