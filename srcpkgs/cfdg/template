# Template file for 'cfdg'
pkgname=cfdg
version=3.4.2
revision=1
wrksrc=context-free-Version${version}
build_style=gnu-makefile
make_install_args="PREFIX=/usr DESTDIR=${DESTDIR}"
hostmakedepends="flex bison"
makedepends="icu-devel libpng-devel libatomic-devel"
short_desc="Context Free is a program that generates images from grammar"
maintainer="Daniel Lewan <vision360.daniel@gmail.com>"
license="GPL-2.0-or-later"
homepage="https://github.com/MtnViewJohn/context-free"
distfiles="https://github.com/MtnViewJohn/context-free/archive/refs/tags/Version${version}.tar.gz"
checksum=12cc7e84bd9290743f4492f467de679617b0a272158a91b0c20e8905cda03c4c

do_build() {
	make -j $(nproc)
}

post_install() {
		rm -rf ${DESTDIR}/usr/local
		vbin ${wrksrc}/cfdg
		vman ${wrksrc}/cfdg.1
}
