# Template file for 'cfdg'
pkgname=cfdg
version=3.4.1
revision=1
wrksrc=context-free-Version${version}
build_style=gnu-makefile
make_install_args="PREFIX=/usr DESTDIR=${DESTDIR}"
hostmakedepends="flex bison"
makedepends="icu-devel libpng-devel libatomic-devel"
short_desc="Context Free is a program that generates images from grammar"
maintainer="Daniel Lewan <vision360.daniel@gmail.com>"
license="GPL-2.0-or-later"
homepage="https://github.com/MtnViewJohn/context-free"
distfiles="https://github.com/MtnViewJohn/context-free/archive/refs/tags/Version${version}.tar.gz"
checksum=c9433fac623b4f7f7875636f7cefd6beca1e4314ef0717b490440c1b7cd40765

do_build() {
	make -j $(nproc)
}

post_install() {
		rm -rf ${DESTDIR}/usr/local
		vbin ${wrksrc}/cfdg
		vman ${wrksrc}/cfdg.1
}
