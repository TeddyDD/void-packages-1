# Template file for 'kompose'
pkgname=kompose
version=1.26.1
revision=1
build_style=go
build_helper=qemu
go_import_path=github.com/kubernetes/kompose
short_desc="Translates Docker Compose file into Kubernetes resources"
maintainer="Daniel Lewan <vision360.daniel@gmail.com>"
license="Apache-2.0"
homepage="https://github.com/kubernetes/kompose"
changelog="https://raw.githubusercontent.com/kubernetes/kompose/master/CHANGELOG.md"
distfiles="https://github.com/kubernetes/kompose/archive/v${version}.tar.gz"
checksum=58547107377705f48cd02e391a5faf441dc0c861aeb9bc17c7c46e9de3ae1806

post_build() {
	local cli=$(find $GOPATH/bin -name kompose)
	for shell in bash fish zsh
	do
		vtargetrun "$cli" completion "$shell" >"completion.$shell"
	done
}

post_install() {
	for shell in bash fish zsh
	do
		vcompletion "completion.$shell" "$shell"
	done
}
